We present the code about shape and topology optimization in Navier-Stokes flow. 
We consider the minimization of energy dissipation and use the phase field method. 
Both the Allen-Cahn and Cahn-Hilliard gradient flows are considered using the stabilized schemes.
All files are written in Freefem.

Below are four examples:

Example 1: Diffuser design in 2d with the square design domain.

Example 2: Bypass design in 2d. The design domain is set by two inlets and two outlets.

Example 3: Bypass design in 3d. We choose one inlet and two outlets. The mesh is built by Gmesh and the mesh file is given.

Example 4: Another bypass design in 3d. Two inlets and two outlets.
